<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- Inherit HR Contract Form View - Professional Implementation -->
    <record id="hr_contract_view_form_inherit_salary_grade" model="ir.ui.view">
        <field name="name">hr.contract.form.inherit.salary.grade</field>
        <field name="model">hr.contract</field>
        <field name="inherit_id" ref="hr_contract.hr_contract_view_form"/>
        <field name="arch" type="xml">
            
            <!-- Add Salary Structure section after existing salary_info group -->
            <xpath expr="//group[@name='salary_info']" position="after">
                <group string="Salary Structure" name="salary_structure_group">
                    <group name="salary_grade_selection">
                        <field name="salary_grade_id" 
                               options="{'no_create': True}"/>
                        <field name="grade_level_id" 
                               options="{'no_create': True}"
                               domain="[('salary_grade_id', '=', salary_grade_id)]"/>
                    </group>
                    <group name="calculated_salary_values">
                        <field name="basic_salary" 
                               readonly="1" 
                               widget="monetary"
                               options="{'currency_field': 'currency_id'}"/>
                        <field name="allowances" 
                               readonly="1" 
                               widget="monetary"
                               options="{'currency_field': 'currency_id'}"/>
                    </group>
                </group>
                
                <!-- Add Apply button right after the fields -->
                <group>
                    <button name="action_apply_salary_structure" 
                            string="âš¡ Apply Salary Structure" 
                            type="object" 
                            class="btn-primary"
                            invisible="not salary_grade_id or not grade_level_id"
                            groups="hr.group_hr_user"/>
                </group>
            </xpath>
            
        </field>
    </record>
</odoo>
